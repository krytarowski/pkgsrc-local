$NetBSD$

--- CMakeLists.txt.orig	2019-07-30 10:26:07.000000000 +0000
+++ CMakeLists.txt
@@ -7,7 +7,7 @@ set(PROJECT_VERSION_MAJOR 5)
 set(QT_MIN_VERSION "5.12.0")
 set(KF5_MIN_VERSION "5.58.0")
 
-set(CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/cmake/modules ${CMAKE_MODULE_PATH} )
+set (CMAKE_MODULE_PATH "/tmp/pkgsrc-tmp/local/kwin/work/.buildlink/cmake-Modules" "/tmp/pkgsrc-tmp/wip/kwin/work/.buildlink/cmake-Modules" "/tmp/pkgsrc-tmp/wip/kwin/work/.buildlink/cmake-Modules" "/tmp/pkgsrc-tmp/wip/kwin/work/.buildlink/cmake-Modules" ${CMAKE_CURRENT_SOURCE_DIR}/cmake/modules ${CMAKE_MODULE_PATH} )
 
 find_package(ECM 5.38 REQUIRED NO_MODULE)
 
@@ -16,7 +16,7 @@ include(WriteBasicConfigVersionFile)
 include(GenerateExportHeader)
 
 # where to look first for cmake modules, before ${CMAKE_ROOT}/Modules/ is checked
-set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${ECM_MODULE_PATH} ${ECM_KDE_MODULE_DIR})
+set (CMAKE_MODULE_PATH "/tmp/pkgsrc-tmp/local/kwin/work/.buildlink/cmake-Modules" "/tmp/pkgsrc-tmp/wip/kwin/work/.buildlink/cmake-Modules" "/tmp/pkgsrc-tmp/wip/kwin/work/.buildlink/cmake-Modules" "/tmp/pkgsrc-tmp/wip/kwin/work/.buildlink/cmake-Modules" ${CMAKE_MODULE_PATH} ${ECM_MODULE_PATH} ${ECM_KDE_MODULE_DIR})
 
 find_package(Qt5 ${QT_MIN_VERSION} CONFIG REQUIRED COMPONENTS
     Concurrent
@@ -186,15 +186,14 @@ set_package_properties(XKB PROPERTIES
                        PURPOSE "Required for building KWin with Wayland support"
                       )
 
-find_package(Libinput 1.9)
-set_package_properties(Libinput PROPERTIES TYPE REQUIRED PURPOSE "Required for input handling on Wayland.")
+#find_package(Libinput 1.9)
+#set_package_properties(Libinput PROPERTIES PURPOSE "Required for input handling on Wayland.")
 
-find_package(UDev)
-set_package_properties(UDev PROPERTIES  URL "http://www.freedesktop.org/software/systemd/libudev/"
-                                        DESCRIPTION "Linux device library."
-                                        TYPE REQUIRED
-                                        PURPOSE "Required for input handling on Wayland."
-                        )
+#find_package(UDev)
+#set_package_properties(UDev PROPERTIES  URL "http://www.freedesktop.org/software/systemd/libudev/"
+#                                        DESCRIPTION "Linux device library."
+#                                        PURPOSE "Required for input handling on Wayland."
+#                        )
 
 find_package(Libdrm 2.4.62)
 set_package_properties(Libdrm PROPERTIES TYPE OPTIONAL PURPOSE "Required for drm output on Wayland.")
@@ -637,7 +636,7 @@ set(kwinLibs
     ${kwin_XCB_LIBS}
     ${kwin_WAYLAND_LIBS}
     ${UDEV_LIBS}
-    Libinput::Libinput
+#    Libinput::Libinput
 )
 
 add_library(kwin SHARED ${kwin_KDEINIT_SRCS})
@@ -731,8 +730,8 @@ install( FILES scripting/kwinscript.desk
 add_subdirectory(qml)
 
 if (BUILD_TESTING)
-    add_subdirectory(autotests)
-    add_subdirectory(tests)
+#    add_subdirectory(autotests)
+#    add_subdirectory(tests)
 endif()
 
 if (KF5DocTools_FOUND)
